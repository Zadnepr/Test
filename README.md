Задание №1

Необходимо написать SQL запрос, который найдет и выведет всех читателей, возраста от 7 и до 17 лет, которые взяли только 2 книги и все книги одного и того же автора.

	SELECT
		`u`.`id` AS `ID`, TRIM(CONCAT(`first_name`, ' ', `last_name`)) AS `Name`, `b`.`author` AS `Author`, TRIM(GROUP_CONCAT(`b`.`name` SEPARATOR ', ')) AS `Books`
	FROM `users` AS `u`, `user_books` AS `ub`, `books` AS `b`
	WHERE 1
		AND `u`.`age` >=7 AND `u`.`age`<=14
		AND `ub`.`user_id` = `u`.`id`
		AND `b`.`id`=`ub`.`book_id`
	GROUP BY `u`.`id`
	HAVING (COUNT(`b`.`id`)=2) AND COUNT(DISTINCT `b`.`author`)=1
		
------------
Пояснение: связываю все таблици по ключам, группирую по читателям, в условиях прописываю ограничение по возрасту, после группировки можно посчитать сколько книг и скольких уникальных авторов взял каждый читатель и в предложении HAVING ограничиваю по поставленой задаче.
<br>Я понял задачу так, что каждый должен взять по 2 книги и обе эти книги должны быть одного автора. Эту задачу я понял именно так. Я умею писать запросы различной сложности, умею пользоваться операторами IF ELSE, CASE WHEN THEN, UNION, сохранять значения в переменные  (@var := <.....>), чтобы потом это использовать, умею писать процедуры (хотя делаю это очень редко)

Задание №2
--------------------------

Выполнено на Yii2. 
<ol>
<li>Настроен модуль urlManager для отображения ссылок как указано в задании</li>
<li>Для хранения токена создана модель Token которая имеет статический метод getToken</li>

Токен для авторизации запосов
---------

    bHfx4VQsMKKfe7MaNAd9_KnkqJMtaSQi8jgjTeo7g6776-EdYvHMTY8uMh_XV7Dr

токен сгенерирован методом Yii::$app->getSecurity()->generateRandomString(64)
В задаче не было требований по какой либо защите и хранению токена, поэтому токен хранится в файле. При необходимости можно переделать на хранение токена в базе данных.

<li>Создан контроллер api.</li>
<li>Создан контроллер v1, который наследует от родительского контроллера api.</li>
<li>Создан родительский объект для работы с api-методами и интерфейсы к нему.</li>
<li>В контроллере api (для всех будующих версий и всех запросов к нему) настроена проверка на авторизаию с помощью метода behaviors и объекта HttpBearerAuth</li>
<li>Каждый метод объявленный в api реализован в виде объектов расположение которых должно быть в каталоге app\controllers\api\<версия api>. Каждый из объектов должен иметь метод doMethod, который возвращает данные необходимые для задания.</li>
<li>Для доступа к данными курсов биткоина создана модель Btc у которой есть статический метод getData. Возвращает ассоциативный масив курсов валют.</li>
</ol>